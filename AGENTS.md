# PROJECT KNOWLEDGE BASE

**Generated:** 2026-02-11
**Commit:** 3dad97a
**Branch:** main

## OVERVIEW

Mantaray agency portfolio website. Next.js 16 App Router + React 19 + Tailwind CSS 4 + Framer Motion. Bilingual (EN/AR with RTL). Dark/light theme. Contact form via Resend API. Project showcase with interactive mockup components.

## STRUCTURE

```
./
├── app/                    # Next.js App Router pages + API
│   ├── layout.tsx          # Root layout (fonts, ThemeProvider, I18nProvider, Header, Footer)
│   ├── page.tsx            # Homepage (hero, stats, services, projects, products)
│   ├── about/              # About page
│   ├── contact/            # Contact form (client-side validation → POST /api/contact)
│   ├── projects/           # Portfolio listing + dynamic [slug] detail pages
│   ├── tools/              # Developer tools showcase
│   └── api/contact/        # POST endpoint — Resend email (notification + confirmation)
├── components/
│   ├── layout/             # Header, Footer, Logo, ThemeProvider, I18nProvider
│   ├── ui/                 # Reusable form/display components (Button, Input, Tabs, etc.)
│   ├── projects/mockups/   # Interactive project mockups (6 projects, ~11k lines)
│   └── CodeEditorMockup.tsx
├── lib/
│   ├── translations.ts     # All EN/AR strings (single source of truth)
│   └── useTranslations.ts  # Hook: returns translations for current language
├── globals.css             # Design system: 1220 lines, CSS custom properties
└── mdx.ts                  # MDX config (remark-gfm, rehype-slug, rehype-autolink-headings)
```

## WHERE TO LOOK

| Task                   | Location                       | Notes                                                           |
| ---------------------- | ------------------------------ | --------------------------------------------------------------- |
| Add a page             | `app/{name}/page.tsx`          | All pages use `'use client'` + `useTranslations()`              |
| Add/edit translations  | `lib/translations.ts`          | Both `en` and `ar` objects must stay in sync                    |
| Add UI component       | `components/ui/`               | Export from `components/ui/index.ts` barrel                     |
| Edit header/footer/nav | `components/layout/`           | Header has theme toggle + language switcher                     |
| Add project mockup     | `components/projects/mockups/` | See child AGENTS.md                                             |
| Modify design tokens   | `app/globals.css` `:root`      | Teal brand palette, dark-first, light in `[data-theme="light"]` |
| Edit contact form API  | `app/api/contact/route.ts`     | Uses Resend; emails use inline styles for client compat         |
| Configure MDX          | `mdx.ts` + `next.config.ts`    | `pageExtensions` includes `.mdx`                                |

## CONVENTIONS

- **Imports**: Always use `@/` path alias (maps to project root)
- **Styling**: Dual system — globals.css class-based for pages, Tailwind utility classes for UI components
- **i18n pattern**: Every page calls `const t = useTranslations()` then uses `t.section.key`
- **Components**: `forwardRef` pattern with explicit `Props` type + `displayName`
- **Theme**: Dark-first CSS vars in `:root`, light overrides in `[data-theme="light"]`
- **RTL**: Font/shadow overrides in `[dir="rtl"]` selector

## ANTI-PATTERNS (THIS PROJECT)

- **DO NOT** edit `next-env.d.ts` — auto-generated by Next.js
- **DO NOT** use CSS Modules — project uses globals.css class system + Tailwind utilities
- **DO NOT** add translations to component files — all strings live in `lib/translations.ts`
- **AVOID** adding state management libraries — Context API only (ThemeProvider, I18nProvider)
- One `eslint-disable` exists: `mockups/index.tsx:158` for variant type casting (`as any`) — known limitation

## UNIQUE STYLES

- **Design system**: "Mantaray Design System V2" — brutal shadow aesthetic (`--shadow-brutal`), bounce transitions, gradient mesh background
- **Typography**: 4 fonts — Space Grotesk (display), Inter (body), JetBrains Mono (code), Noto Sans Arabic (RTL)
- **Type scale**: Fluid `clamp()` values from `--text-xs` through `--text-hero`
- **Colors**: Teal-900 through Teal-50 brand palette + accent-hot (orange), accent-electric (green), accent-warning (yellow)

## COMMANDS

```bash
bun dev          # Dev server
bun run build    # Production build
bun run lint     # ESLint (next lint)
bun run clean    # rm -rf .next out
```

## NOTES

- **Package manager**: Bun (bun.lock), not npm/yarn
- **No tests**: Zero test infrastructure — no jest/vitest/playwright
- **No CI/CD**: No GitHub Actions workflows — deployment likely Vercel auto-deploy
- **No pre-commit hooks**: No husky/lint-staged
- **Env required**: `RESEND_API_KEY` in `.env.local` for contact form emails
- **Email gotcha**: Both notification and confirmation emails use inline styles — test across email clients
- **Image config**: `remotePatterns` allows all HTTPS hosts (`hostname: '**'`)
- `globals.css` is 1220 lines — the design system, not just a reset. Check here first for any styling class
